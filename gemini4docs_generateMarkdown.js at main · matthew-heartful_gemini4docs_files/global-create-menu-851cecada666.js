"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["global-create-menu"],{19466:(e,t,r)=>{var n=r(74898),a=r(85893),s=r(59434),o=r(14786),i=r(74121),l=r(45677),c=r(41436),d=r(85529),_=r(67294),u=r(48968);let m=(0,_.lazy)(()=>Promise.all([r.e("vendors-node_modules_dompurify_dist_purify_js"),r.e("vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-85a14b"),r.e("vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js"),r.e("vendors-node_modules_react-router-dom_dist_index_js"),r.e("vendors-node_modules_primer_react_lib-esm_SelectPanel_SelectPanel_js"),r.e("vendors-node_modules_react-relay_index_js"),r.e("vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-fd5530"),r.e("vendors-node_modules_date-fns_format_mjs"),r.e("vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js"),r.e("vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f"),r.e("vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-d0d82e"),r.e("vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_date-fns_difference-a582b2"),r.e("vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_markdown-toolbar-e-820fc0"),r.e("vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--4861d1"),r.e("ui_packages_paths_index_ts"),r.e("ui_packages_relay-environment_relay-environment_ts"),r.e("ui_packages_item-picker_components_RepositoryPicker_tsx"),r.e("ui_packages_date-picker_date-picker_ts"),r.e("ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx"),r.e("node_modules_primer_react_lib-esm_Label_Label_js-node_modules_primer_react_lib-esm_hooks_useR-dfde33")]).then(r.bind(r,2263)));function p({label:e,analyticsLabel:t}){return{category:"SiteHeaderComponent",action:"add_dropdown",label:t||e.toLowerCase()}}function h({label:e,href:t,LeadingVisual:r,analyticsLabel:n}){let{sendClickAnalyticsEvent:i}=(0,s.w)(),l=(0,_.useCallback)(()=>{i(p({label:e,analyticsLabel:n}))},[e,n,i]);return(0,a.jsxs)(o.S.LinkItem,{href:t,onClick:l,children:[(0,a.jsx)(o.S.LeadingVisual,{children:(0,a.jsx)(r,{})}),e]})}function f({label:e,onClick:t,LeadingVisual:r,analyticsLabel:n}){let{sendClickAnalyticsEvent:i}=(0,s.w)(),l=(0,_.useCallback)(()=>{i(p({label:e,analyticsLabel:n})),t()},[e,n,i,t]);return(0,a.jsxs)(o.S.Item,{onClick:l,children:[(0,a.jsx)(o.S.LeadingVisual,{children:(0,a.jsx)(r,{})}),e]})}function b(){return(0,a.jsx)(i.Z,{size:"small"})}function g({createRepo:e,importRepo:t,createOrg:r,createProject:n,createProjectUrl:s,createLegacyProject:i,createIssue:c,codespaces:u,gist:p,org:g,owner:y,repo:j,isOpen:v=!1,setIsOpen:x=()=>{},environment:w}){let[R,S]=(0,_.useState)(!1),[E,C]=(0,_.useState)(!1),[N,P]=(0,_.useState)(v);return(0,_.useEffect)(()=>{v&&P(!0)},[v]),(0,a.jsxs)(a.Fragment,{children:[c&&N&&(0,a.jsx)(_.Suspense,{children:(0,a.jsx)(m,{isVisible:R,setIsVisible:S,setIsLoaded:C,setIsParentMenuOpen:x,owner:y,repo:j,environment:w})}),(0,a.jsx)(l.P.Overlay,{align:"end",children:(0,a.jsxs)(o.S,{children:[c&&(0,a.jsx)(f,{label:"New issue",onClick:()=>(S(!0),!1),LeadingVisual:R&&!E?b:d.IssueOpenedIcon}),!1!==e&&(0,a.jsx)(h,{label:"New repository",href:"/new",LeadingVisual:d.RepoIcon}),t&&(0,a.jsx)(h,{label:"Import repository",href:"/new/import",LeadingVisual:d.RepoPushIcon}),(u||p)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.S.Divider,{}),u&&(0,a.jsx)(h,{label:"New codespace",href:"/codespaces/new",LeadingVisual:d.CodespacesIcon}),p&&(0,a.jsx)(h,{label:"New gist",href:"/gist",LeadingVisual:d.CodeIcon})]}),(r||n||i)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.S.Divider,{}),r&&(0,a.jsx)(h,{label:"New organization",href:"/account/organizations/new",LeadingVisual:d.OrganizationIcon}),n&&(0,a.jsx)(h,{label:"New project",analyticsLabel:"new project",href:s,LeadingVisual:d.ProjectIcon}),!n&&i&&(0,a.jsx)(h,{label:"New project",analyticsLabel:"new legacy project",href:"/new/project",LeadingVisual:d.ProjectIcon})]}),g?.canAdmin&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.S.Divider,{}),(0,a.jsx)(h,{label:`${g.addWord} someone to ${g.login}`,analyticsLabel:"invite someone",href:`/orgs/${g.login}/people#invite-member`,LeadingVisual:d.PersonAddIcon}),(0,a.jsx)(h,{label:`New team in ${g.login}`,analyticsLabel:"new team",href:`/orgs/${g.login}/new-team`,LeadingVisual:d.PeopleIcon}),(0,a.jsx)(h,{label:`New repository in ${g.login}`,analyticsLabel:"organization - new repository",href:`/organizations/${g.login}/repositories/new`,LeadingVisual:d.RepoIcon})]})]})})]})}function y(e){let{ref:t,open:r,setOpen:n}=(0,u.Ac)(e.reactPartialAnchor);return(0,a.jsx)(l.P,{anchorRef:t,open:r,onOpenChange:n,children:(0,a.jsx)(g,{...e,isOpen:r,setIsOpen:n})})}function j(e){let t=`global-create-menu-tooltip-${(0,_.useId)()}`,[r,n]=(0,_.useState)(!1);return(0,a.jsxs)(l.P,{open:r,onOpenChange:n,children:[(0,a.jsx)(c.u,{text:"Create New...",type:"label",id:t,children:(0,a.jsx)(l.P.Button,{leadingVisual:d.PlusIcon,children:""})}),(0,a.jsx)(g,{...e,isOpen:r,setIsOpen:n})]})}function v(e){return e.reactPartialAnchor?(0,a.jsx)(y,{...e,reactPartialAnchor:e.reactPartialAnchor}):(0,a.jsx)(j,{...e})}try{m.displayName||(m.displayName="LazyCreateIssueDialog")}catch{}try{h.displayName||(h.displayName="CreateMenuLinkItem")}catch{}try{f.displayName||(f.displayName="CreateMenuItem")}catch{}try{b.displayName||(b.displayName="MenuItemSpinner")}catch{}try{g.displayName||(g.displayName="GlobalCreateMenuOverlay")}catch{}try{y.displayName||(y.displayName="ExternallyAnchoredGlobalCreateMenu")}catch{}try{j.displayName||(j.displayName="GlobalCreateMenuWithAnchor")}catch{}try{v.displayName||(v.displayName="GlobalCreateMenu")}catch{}(0,n.t)("global-create-menu",{Component:v})},79697:(e,t,r)=>{let n;r.d(t,{YT:()=>u,qP:()=>m,yM:()=>p});var a=r(88149),s=r(86058),o=r(56363),i=r(43786);let{getItem:l}=(0,o.Z)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.n)("octolytics");delete e.baseContext,n=new s.R(e)}catch(e){}function _(e){let t=(0,a.n)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");if(r){let e=JSON.parse(atob(r.content));Object.assign(t,e)}let n=new URLSearchParams(window.location.search);for(let[e,r]of n)d.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,i.B)().toString(),Object.assign(t,e)}function u(e){n?.sendPageView(_(e))}function m(e,t={}){let r=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,a=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(a[e]=`${r}`);if(n){let t=e||"unknown";_(a),n.sendEvent(t,_(a))}}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},83206:(e,t,r)=>{r.d(t,{e:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new n),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let n=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},48968:(e,t,r)=>{r.d(t,{Ac:()=>s,Z_:()=>o,ev:()=>a});var n=r(67294);function a(e){return((0,n.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function s(e){let t=(0,n.useRef)(e.__wrapperElement.anchor||null),[r,a]=(0,n.useState)(!1),s=(0,n.useCallback)(()=>{a(!r)},[r,a]);return(0,n.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),o(e,s),{ref:t,open:r,setOpen:a}}function o(e,t){let r=(0,n.useRef)(e.__wrapperElement.anchor);(0,n.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},74898:(e,t,r)=>{r.d(t,{t:()=>d});var n=r(83206);let a=new n.e;var s=r(85893),o=r(76006),i=r(60302),l=r(75069);let c=class ReactPartialElement extends i.S{async getReactNode(e){var t;let{Component:r}=await (t=this.name,a.getRegistration(t)),n=this.closest("react-partial-anchor");return(0,s.jsx)(l.S,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:n})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function d(e,t){a.register(e,t)}c=function(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([o.Ih],c)},82914:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(56363);let{getItem:a,setItem:s,removeItem:o}=(0,n.Z)("localStorage"),i="REACT_PROFILING_ENABLED",l={enable:()=>s(i,"true"),disable:()=>o(i),isEnabled:()=>!!a(i)}},59434:(e,t,r)=>{r.d(t,{w:()=>i,z:()=>o});var n=r(67294),a=r(79697),s=r(15470);function o(){let e=(0,n.useContext)(s.f);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:r,metadata:o}=e;return{sendAnalyticsEvent:(0,n.useCallback)((e,n,s={})=>{let i={react:!0,app_name:t,category:r,...o};(0,a.qP)(e,{...i,...s,target:n})},[t,r,o])}}function i(){let{sendAnalyticsEvent:e}=o();return{sendClickAnalyticsEvent:(0,n.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},75069:(e,t,r)=>{r.d(t,{S:()=>p});var n=r(85893),a=r(67294),s=r(66629),o=r(12599),i=r(73216),l=r(89250),c=r(22877);function d({children:e,history:t}){let[r,s]=(0,a.useState)({location:t.location});return(0,c.g)(()=>t.listen(s),[t]),(0,n.jsx)(l.F0,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var _=r(80491),u=r(7533),m=r(48968);function p({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:p}){let h=a.useRef(),f=globalThis.window;h.current||(h.current=f?(0,u.l)({window:f}):(0,o.PP)({initialEntries:[{pathname:"/"}]}));let b=h.current,g=(0,m.ev)(p);return(0,n.jsx)(s.R,{appName:e,wasServerRendered:l,children:(0,n.jsx)(i.i,{history:b,routes:[],children:(0,n.jsxs)(d,{history:b,children:[(0,n.jsx)(r,{...t.props,...g}),(0,n.jsx)(_.P,{ssrError:c})]})})})}try{p.displayName||(p.displayName="PartialEntry")}catch{}},60302:(e,t,r)=>{r.d(t,{S:()=>ReactBaseElement});var n=r(85893),a=r(76006),s=r(20745),o=r(67294),i=r(82914),l=r(18448);function c(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:s.s,hydrateRoot:s.a};i.Z.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,a=await this.getReactNode(t),l=(0,n.jsx)(o.StrictMode,{children:a});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:()=>{}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,62518,19))}logSSRError(e){if(l.t[e])return console.error("SSR failed with an expected error:",l.t[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ",r=e.stacktrace.map(e=>{let{function:r,filename:n,lineno:a,colno:s}=e,o=`${t} at ${r} (${n}:${a}:${s})`;return t=" ",o});return r.join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};c([a.fA],ReactBaseElement.prototype,"embeddedData",void 0),c([a.fA],ReactBaseElement.prototype,"ssrError",void 0),c([a.fA],ReactBaseElement.prototype,"reactRoot",void 0)}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","vendors-node_modules_primer_octicons-react_dist_index_esm_js-node_modules_primer_react_lib-es-541a38","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_AnchoredOverlay_AnchoredOverlay_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-26b3ec","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(19466)),e.O()}]);
//# sourceMappingURL=global-create-menu-2ed2454833f1.js.map